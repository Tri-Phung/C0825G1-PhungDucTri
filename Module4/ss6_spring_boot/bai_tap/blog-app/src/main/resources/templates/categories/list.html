<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common/layout :: head}">
    <title>List Blogs</title>
</head>
<body>
<div th:replace="~{common/layout :: navbar}"></div>
<main class="container">
    <div th:replace="~{common/layout :: toast}"></div>
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>List Categories</h1>
        <a th:href="@{/categories/add}" class="btn btn-success">Add Category</a>
    </div>
    <table class="table table-striped table-hover">
        <thead class="table-dark">
        <tr>
            <th style="width: 10%">ID</th>
            <th style="width: 60%">Name</th>
            <th style="width: 30%">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="cat : ${categories}">
            <td th:text="${cat.id}"></td>
            <td th:text="${cat.name}"></td>
            <td>
                <a th:href="@{/categories/{id}/edit(id=${cat.id})}"
                   class="btn btn-sm btn-primary">Edit</a>
                <a class="btn btn-sm btn-danger" th:onclick="showDeleteModal([[${cat.id}]], [[${cat.name}]], '/categories/delete')">
                    Delete
                </a>
            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(categories)}">
            <td colspan="3" class="text-center text-muted">No categories found.</td>
        </tr>
        </tbody>
    </table>
    <div th:replace="~{common/layout :: delete-modal}"></div>
</main>
<div th:replace="~{common/layout :: footer}"></div>
</body>
<script th:replace="~{common/layout :: scripts}"></script>
</html>