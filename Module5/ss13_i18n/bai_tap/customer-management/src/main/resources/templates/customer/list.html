<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{common/layout :: head}">
</head>

<body>
<div class="container main-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 th:text="#{customer.list.title}">Customers</h1>
        <nav class="navbar navbar-expand-lg mb-4">
            <a th:href="@{/customers/add}" class="btn btn-primary" th:text="#{customer.add.button}">Create Customer</a>
            <div th:replace="~{common/layout :: lang-switch}"></div>
        </nav>
    </div>

    <div th:if="${message}" class="alert alert-success alert-dismissible fade show" role="alert">
        <span th:text="#{${message}}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <table class="table table-striped table-hover mt-3">
        <thead class="table-dark">
        <tr>
            <th th:text="#{customer.table.id}">ID</th>
            <th th:text="#{customer.table.name}">Name</th>
            <th th:text="#{customer.table.email}">Email</th>
            <th th:text="#{customer.table.phone}">Phone</th>
            <th th:text="#{customer.table.address}">Address</th>
            <th th:text="#{label.action}">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="customer : ${customers}">
            <td th:text="${customer.id}"></td>
            <td th:text="${customer.name}"></td>
            <td th:text="${customer.email}"></td>
            <td th:text="${customer.phone}"></td>
            <td th:text="${customer.address}"></td>
            <td>
                <a th:href="@{/customers/{id}/edit(id=${customer.id})}" class="btn btn-sm btn-warning"
                   th:text="#{customer.action.edit}">Edit</a>
                <button type="button" class="btn btn-sm btn-danger" th:data-id="${customer.id}"
                        th:data-name="${customer.name}"
                        onclick="showDeleteModal(this.getAttribute('data-id'), this.getAttribute('data-name'))"
                        th:text="#{customer.action.delete}">
                    Delete
                </button>
            </td>
        </tr>
        </tbody>
    </table>
    <div th:replace="~{common/layout :: delete-modal}"></div>
</div>

<div class="footer">
    <p>&copy; 2026 Customer Management System</p>
</div>

<div th:replace="~{common/layout :: scripts}"></div>
</body>

</html>